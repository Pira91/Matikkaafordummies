<!DOCTYPE html>
<html lang="fi">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-T09C7VFBV9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-T09C7VFBV9');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tervetuloa ikamittarip.fi, jossa löydät kaikki matemaattiset työkalut, kuten prosenttilaskurit, yksikkömuuntimet, satunnaislukugeneraattorit ja paljon muuta.">
    <meta name="keywords" content="matemaattiset työkalut, prosenttilaskuri, yksikkömuunnin, satunnaislukugeneraattori, laskurit">
    <meta name="author" content="ikamittarip.fi">
    <title>ikamittarip.fi - Kaikki matemaattiset työkalut</title>
    <style>
        /* --- [Tyylit säilyvät ennallaan] --- */
        /* Evästebanneri */
        #cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #333;
            color: white;
            padding: 10px;
            text-align: center;
            display: none;
            z-index: 1000;
        }
        #cookie-banner button {
            background-color: #f1c40f;
            border: none;
            padding: 5px 10px;
            color: black;
            cursor: pointer;
        }
        /* --- Laskureiden tyyli ja muut elementit --- */
    </style>
</head>
<body>
    <!-- Evästebanneri -->
    <div id="cookie-banner">
        <p>Verkkosivustollamme käytetään evästeitä. Hyväksyksesi evästeet, klikkaa hyväksy-nappia.</p>
        <button id="accept-cookies">Hyväksy</button>
    </div>

    <!-- --- Laskurit ja työkalut --- -->
    <div>
        <h2>Prosenttilaskuri</h2>
        <select id="percent-type">
            <option value="discount">Alennus</option>
            <option value="increase">Korotus</option>
            <option value="percentage">Kuinka monta prosenttia</option>
            <option value="change">Prosentuaalinen muutos</option>
        </select>
        <div id="percent-inputs"></div>
        <button onclick="calculatePercentage()">Laske</button>
        <p id="percent-result">-</p>
    </div>

    <div>
        <h2>Yksikkömuunnin</h2>
        <select id="conversion-type">
            <option value="length">Pituus</option>
            <option value="weight">Paino</option>
            <option value="volume">Tilavuus</option>
            <option value="area">Pinta-ala</option>
            <option value="speed">Nopeus</option>
        </select>
        <input type="number" id="conversion-value" placeholder="Arvo" step="any">
        <select id="conversion-from"></select>
        <select id="conversion-to"></select>
        <button onclick="convertUnits()">Muunna</button>
        <p id="conversion-result">-</p>
    </div>

    <div>
        <h2>Satunnaislukugeneraattori</h2>
        <input type="number" id="rand-min" placeholder="Minimi">
        <input type="number" id="rand-max" placeholder="Maksimi">
        <button onclick="generateRandom()">Arvo</button>
        <p id="rand-result">-</p>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Google Analytics
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-XXXXXXX-X', 'auto');
            ga('send', 'pageview');

            // Evästebanneri
            if (!localStorage.getItem('cookiesAccepted')) {
                document.getElementById("cookie-banner").style.display = "block";
            }
            document.getElementById("accept-cookies").addEventListener("click", () => {
                localStorage.setItem('cookiesAccepted', 'true');
                document.getElementById("cookie-banner").style.display = "none";
            });

            // Laskureiden päivitys
            document.getElementById("percent-type").addEventListener("change", updatePercentInputs);
            updatePercentInputs();
            document.getElementById("conversion-type").addEventListener("change", updateUnitOptions);
            updateUnitOptions();
        });

        function updatePercentInputs() {
            const type = document.getElementById("percent-type").value;
            const container = document.getElementById("percent-inputs");
            container.innerHTML = "";
            if (type === "discount" || type === "increase") {
                container.innerHTML = `
                    <div class="input-group">
                        <label for="base-value">Alkuarvo</label>
                        <input type="number" id="base-value" step="any">
                    </div>
                    <div class="input-group">
                        <label for="percent-value">Prosentti</label>
                        <input type="number" id="percent-value" step="any">
                    </div>`;
            } else if (type === "percentage") {
                container.innerHTML = `
                    <div class="input-group">
                        <label for="part-value">Osa</label>
                        <input type="number" id="part-value" step="any">
                    </div>
                    <div class="input-group">
                        <label for="whole-value">Kokonaismäärä</label>
                        <input type="number" id="whole-value" step="any">
                    </div>`;
            } else if (type === "change") {
                container.innerHTML = `
                    <div class="input-group">
                        <label for="original-value">Alkuarvo</label>
                        <input type="number" id="original-value" step="any">
                    </div>
                    <div class="input-group">
                        <label for="new-value">Uusi arvo</label>
                        <input type="number" id="new-value" step="any">
                    </div>`;
            }
        }

        function calculatePercentage() {
            const type = document.getElementById("percent-type").value;
            let result = "-";

            if (type === "discount" || type === "increase") {
                const base = parseFloat(document.getElementById("base-value").value);
                const percent = parseFloat(document.getElementById("percent-value").value);
                if (!isNaN(base) && !isNaN(percent)) {
                    const change = base * (percent / 100);
                    result = type === "discount" ? base - change : base + change;
                }
            } else if (type === "percentage") {
                const part = parseFloat(document.getElementById("part-value").value);
                const whole = parseFloat(document.getElementById("whole-value").value);
                if (!isNaN(part) && !isNaN(whole) && whole !== 0) {
                    result = (part / whole) * 100 + "%";
                }
            } else if (type === "change") {
                const original = parseFloat(document.getElementById("original-value").value);
                const newValue = parseFloat(document.getElementById("new-value").value);
                if (!isNaN(original) && !isNaN(newValue) && original !== 0) {
                    result = ((newValue - original) / original) * 100 + "%";
                }
            }
            document.getElementById("percent-result").textContent = result;
        }

        function updateUnitOptions() {
            const type = document.getElementById('conversion-type').value;
            const fromSelect = document.getElementById('conversion-from');
            const toSelect = document.getElementById('conversion-to');
            let units = [];

            switch(type) {
                case 'length':
                    units = ["mm", "cm", "m", "km", "tuuma", "jalka", "jaardi", "maili"];
                    break;
                case 'weight':
                    units = ["mg", "g", "kg", "t", "unssi", "naula"];
                    break;
                case 'volume':
                    units = ["ml", "cl", "dl", "l", "tl", "rkl", "kuppi", "gal", "pint"];
                    break;
                case 'area':
                    units = ["mm²", "cm²", "m²", "ha", "km²", "tuuma²", "jalka²", "eekkeri"];
                    break;
                case 'speed':
                    units = ["m/s", "km/h", "mph", "solmu", "äänennopeus"];
                    break;
            }

            fromSelect.innerHTML = '';
            toSelect.innerHTML = '';
            units.forEach(unit => {
                const option1 = document.createElement('option');
                option1.value = unit;
                option1.textContent = unit;
                fromSelect.appendChild(option1);

                const option2 = document.createElement('option');
                option2.value = unit;
                option2.textContent = unit;
                toSelect.appendChild(option2);
            });

            if (type === 'length') {
                fromSelect.value = "
