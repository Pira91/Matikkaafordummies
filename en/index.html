<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Welcome to ultimate-calculator.com - Your one-stop destination for all mathematical tools">
    <meta name="keywords" content="mathematical tools, percentage calculator, unit converter, random number generator, calculators, unit converters, trigonometry, geometry, calculator, mathematical calculator, online calculator, free calculator, addition, subtraction, multiplication, division, percentage calculator, unit converter, temperature converter, time converter, BMI calculator, average calculator, median calculator, mode, standard deviation, square root, cube root, power calculator, logarithm, trigonometry, geometry, area, volume, speed calculator, distance calculator, currency converter, interest calculator, discount calculator, fractions, decimals, formulas, mathematics, studying, schoolwork, helper, tool, easy to use, fast, accurate, online tool, numerical, calculation, measurement, conversion">
    <meta name="author" content="ultimate-calculator.com">
    <title>All Calculators in One Place!</title>
    <style>
        :root {
            --primary-blue: #1a73e8;
            --dark-blue: #0d47a1;
            --light-blue: #e8f0fe;
            --white: #ffffff;
            --light-gray: #f5f5f5;
            --text-dark: #202124;
            --text-light: #5f6368;
            --error-red: #f44336;
            --success-green: #4CAF50;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--white);
            color: var(--text-dark);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            background-color: var(--primary-blue);
            color: var(--white);
            padding: 20px 0;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }

        .content-wrapper {
            display: flex;
            flex: 1;
            padding: 0 20px;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        /* Calculator sidebar styles */
        .calculator-sidebar {
            width: 250px;
            background-color: var(--white);
            padding: 15px;
            border-radius: 8px;
            height: fit-content;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky;
            top: 20px;
        }

        .calculator-sidebar h2 {
            color: var(--primary-blue);
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-blue);
            font-size: 1.3rem;
        }

        .calculator-sidebar ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .calculator-sidebar li {
            margin-bottom: 8px;
        }

        .calculator-sidebar a {
            display: block;
            padding: 10px 12px;
            color: var(--text-dark);
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .calculator-sidebar a:hover, 
        .calculator-sidebar a:focus {
            background-color: var(--primary-blue);
            color: var(--white);
            transform: translateX(3px);
        }

        /* Main calculator styles */
        .calculator-main {
            flex: 1;
            display: flex;
            justify-content: center;
        }

        .calculator-container {
            width: 100%;
        }

        .calculator-box {
            background-color: var(--white);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
            margin-bottom: 25px;
            display: none;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .calculator-box.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .calculator-box h2 {
            color: var(--primary-blue);
            border-bottom: 2px solid var(--primary-blue);
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        /* Form elements */
        input, select, button {
            width: 100%;
            padding: 12px 15px;
            margin: 10px 0;
            border-radius: 8px;
            border: 1px solid #dadce0;
            font-size: 16px;
            transition: all 0.2s;
        }

        input:focus, 
        select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 2px var(--light-blue);
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 15px;
        }

        .button-group button {
            flex: 1;
        }

        button {
            background-color: var(--primary-blue);
            color: var(--white);
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            padding: 12px;
        }

        button:hover {
            background-color: var(--dark-blue);
            transform: translateY(-2px);
        }

        button:active {
            transform: translateY(0);
        }

        .reset-btn {
            background-color: var(--error-red);
            flex: 0.5 !important;
        }

        .reset-btn:hover {
            background-color: #d32f2f;
        }

        /* Results */
        p {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--text-dark);
            margin: 15px 0 5px;
        }

        #multiplication-table p {
            margin: 8px 0;
            color: var(--text-light);
            font-weight: normal;
        }

        /* Color preview */
        #color-preview {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            border: 1px solid #ccc;
            margin-top: 15px;
            transition: all 0.3s;
        }

        /* Footer */
        footer {
            background-color: var(--primary-blue);
            color: var(--white);
            padding: 25px 0;
            text-align: center;
            margin-top: 50px;
        }

        footer div {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        footer a {
            color: var(--white);
            margin: 0 15px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s;
        }

        footer a:hover {
            text-decoration: underline;
            opacity: 0.9;
        }

        /* Utility classes */
        .hidden {
            display: none !important;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Cookie banner styles */
        #cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 20px;
            z-index: 1000;
            display: none;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
        }

        #cookie-banner .banner-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
        }

        #cookie-banner p {
            flex: 1;
            min-width: 300px;
            margin: 0;
            color: white;
            font-size: 1rem;
            font-weight: normal;
        }

        #cookie-banner .button-group {
            margin: 0;
        }

        #cookie-banner button {
            min-width: 120px;
        }

        #accept-cookies {
            background-color: var(--success-green);
        }

        #reject-cookies {
            background-color: var(--error-red);
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .content-wrapper {
                flex-direction: column;
                padding: 0 15px;
            }
            
            .calculator-sidebar {
                width: 100%;
                margin-bottom: 20px;
                position: static;
            }
            
            .calculator-main {
                padding: 0;
            }
            
            .calculator-box {
                padding: 20px;
            }
            
            .button-group {
                flex-direction: column;
            }

            #cookie-banner .banner-content {
                flex-direction: column;
                text-align: center;
            }

            #cookie-banner .button-group {
                width: 100%;
            }

            #cookie-banner button {
                width: 100%;
            }
        }

        /* Special styles for calculators */
        .shape-inputs {
            display: grid;
            gap: 10px;
            grid-template-columns: 1fr 1fr;
        }
        
        @media (max-width: 480px) {
            .shape-inputs {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

<header>
    <h1>ultimate-calculator.com</h1>
    <p>All your calculation needs in one place</p>
</header>

<div class="content-wrapper">
    <aside class="calculator-sidebar">
        <h2>Calculators</h2>
        <ul>
            <li><a href="#" onclick="showCalculator('addition'); return false;">Addition</a></li>
            <li><a href="#" onclick="showCalculator('multiplication-table'); return false;">Multiplication Table</a></li>
            <li><a href="#" onclick="showCalculator('exponent'); return false;">Exponent Calculator</a></li>
            <li><a href="#" onclick="showCalculator('square-cube-root'); return false;">Square & Cube Root</a></li>
            <li><a href="#" onclick="showCalculator('area-volume'); return false;">Area & Volume</a></li>
            <li><a href="#" onclick="showCalculator('temperature-converter'); return false;">Temperature Converter</a></li>
            <li><a href="#" onclick="showCalculator('basic-calculator'); return false;">Basic Calculator</a></li>
            <li><a href="#" onclick="showCalculator('pythagorean'); return false;">Pythagorean Theorem</a></li>
            <li><a href="#" onclick="showCalculator('percentage'); return false;">Percentage Calculator</a></li>
            <li><a href="#" onclick="showCalculator('average'); return false;">Average Calculator</a></li>
            <li><a href="#" onclick="showCalculator('median'); return false;">Median Calculator</a></li>
            <li><a href="#" onclick="showCalculator('time-converter'); return false;">Time Converter</a></li>
            <li><a href="#" onclick="showCalculator('bmi'); return false;">BMI Calculator</a></li>
            <li><a href="#" onclick="showCalculator('percentage-change'); return false;">Percentage Change</a></li>
            <li><a href="#" onclick="showCalculator('random-color'); return false;">Random Color Generator</a></li>
            <li><a href="#" onclick="showCalculator('fibonacci'); return false;">Fibonacci Sequence</a></li>
            <li><a href="#" onclick="showCalculator('interest'); return false;">Interest Calculator</a></li>
        </ul>
    </aside>

    <main class="calculator-main">
        <div class="calculator-container">
            <!-- Addition -->
            <div id="addition" class="calculator-box active">
                <h2>Addition</h2>
                <label for="num1" class="sr-only">First number</label>
                <input type="number" id="num1" placeholder="First number" aria-label="First number">
                <label for="num2" class="sr-only">Second number</label>
                <input type="number" id="num2" placeholder="Second number" aria-label="Second number">
                <div class="button-group">
                    <button onclick="calculateSum()">Calculate</button>
                    <button class="reset-btn" onclick="resetInputs('num1', 'num2', 'sum-result')">⟲</button>
                </div>
                <p id="sum-result">-</p>
            </div>

            <!-- Multiplication Table -->
            <div id="multiplication-table" class="calculator-box">
                <h2>Multiplication Table</h2>
                <label for="multiplicand" class="sr-only">Number</label>
                <input type="number" id="multiplicand" placeholder="Enter a number" aria-label="Number for multiplication table">
                <div class="button-group">
                    <button onclick="generateMultiplicationTable()">Show Table</button>
                    <button class="reset-btn" onclick="resetInputs('multiplicand', 'multiplication-table')">⟲</button>
                </div>
                <div id="multiplication-table-results"></div>
            </div>

            <!-- Exponent Calculator -->
            <div id="exponent" class="calculator-box">
                <h2>Exponent Calculator</h2>
                <label for="base" class="sr-only">Base</label>
                <input type="number" id="base" placeholder="Base" aria-label="Base number">
                <label for="exponent" class="sr-only">Exponent</label>
                <input type="number" id="exponent" placeholder="Exponent" aria-label="Exponent">
                <div class="button-group">
                    <button onclick="calculatePower()">Calculate</button>
                    <button class="reset-btn" onclick="resetInputs('base', 'exponent', 'power-result')">⟲</button>
                </div>
                <p id="power-result">-</p>
            </div>

            <!-- Square & Cube Root -->
            <div id="square-cube-root" class="calculator-box">
                <h2>Square & Cube Root</h2>
                <label for="root-number" class="sr-only">Number</label>
                <input type="number" id="root-number" placeholder="Enter a number" aria-label="Number to calculate roots">
                <div class="button-group">
                    <button onclick="calculateRoots()">Calculate Roots</button>
                    <button class="reset-btn" onclick="resetInputs('root-number', 'root-result')">⟲</button>
                </div>
                <p id="root-result">-</p>
            </div>

            <!-- Area & Volume -->
            <div id="area-volume" class="calculator-box">
                <h2>Area & Volume Calculator</h2>
                <label for="shape-type" class="sr-only">Shape</label>
                <select id="shape-type" onchange="updateShapeInputs()" aria-label="Select shape">
                    <option value="rectangle">Rectangle</option>
                    <option value="circle">Circle</option>
                    <option value="cube">Cube</option>
                    <option value="sphere">Sphere</option>
                    <option value="cylinder">Cylinder</option>
                </select>
                <div id="shape-inputs" class="shape-inputs">
                    <!-- Input fields will be added here dynamically -->
                </div>
                <div class="button-group">
                    <button onclick="calculateAreaVolume()">Calculate</button>
                    <button class="reset-btn" onclick="resetShapeCalculator()">⟲</button>
                </div>
                <p id="area-volume-result">-</p>
            </div>

            <!-- Temperature Converter -->
            <div id="temperature-converter" class="calculator-box">
                <h2>Temperature Converter</h2>
                <label for="temp-conversion-type" class="sr-only">Conversion type</label>
                <select id="temp-conversion-type" aria-label="Select conversion type">
                    <option value="c-to-f">Celsius → Fahrenheit</option>
                    <option value="f-to-c">Fahrenheit → Celsius</option>
                    <option value="c-to-k">Celsius → Kelvin</option>
                    <option value="k-to-c">Kelvin → Celsius</option>
                </select>
                <label for="temp-input" class="sr-only">Temperature</label>
                <input type="number" id="temp-input" placeholder="Enter temperature" aria-label="Temperature value">
                <div class="button-group">
                    <button onclick="convertTemperature()">Convert</button>
                    <button class="reset-btn" onclick="resetInputs('temp-input', 'temp-result')">⟲</button>
                </div>
                <p id="temp-result">-</p>
            </div>

            <!-- Basic Calculator -->
            <div id="basic-calculator" class="calculator-box">
                <h2>Basic Calculator</h2>
                <label for="basic-num1" class="sr-only">First number</label>
                <input type="number" id="basic-num1" placeholder="First number" aria-label="First number">
                <label for="basic-num2" class="sr-only">Second number</label>
                <input type="number" id="basic-num2" placeholder="Second number" aria-label="Second number">
                <div class="button-group">
                    <button onclick="basicCalculator('+')">+</button>
                    <button onclick="basicCalculator('-')">-</button>
                    <button onclick="basicCalculator('*')">×</button>
                    <button onclick="basicCalculator('/')">÷</button>
                </div>
                <p id="basic-result">-</p>
            </div>

            <!-- Pythagorean Theorem -->
            <div id="pythagorean" class="calculator-box">
                <h2>Pythagorean Theorem</h2>
                <label for="side-a" class="sr-only">Side A</label>
                <input type="number" id="side-a" placeholder="Side A" aria-label="Side A length">
                <label for="side-b" class="sr-only">Side B</label>
                <input type="number" id="side-b" placeholder="Side B" aria-label="Side B length">
                <div class="button-group">
                    <button onclick="calculateHypotenuse()">Calculate Hypotenuse</button>
                    <button class="reset-btn" onclick="resetInputs('side-a', 'side-b', 'hypotenuse-result')">⟲</button>
                </div>
                <p id="hypotenuse-result">-</p>
            </div>

            <!-- Percentage Calculator -->
            <div id="percentage" class="calculator-box">
                <h2>Percentage Calculator</h2>
                <label for="percent-value" class="sr-only">Percentage</label>
                <input type="number" id="percent-value" placeholder="Percentage" aria-label="Percentage value">
                <label for="percent-base" class="sr-only">Base value</label>
                <input type="number" id="percent-base" placeholder="Base value" aria-label="Base value">
                <div class="button-group">
                    <button onclick="calculatePercentage()">Calculate</button>
                    <button class="reset-btn" onclick="resetInputs('percent-value', 'percent-base', 'percent-result')">⟲</button>
                </div>
                <p id="percent-result">-</p>
            </div>

            <!-- Average Calculator -->
            <div id="average" class="calculator-box">
                <h2>Average Calculator</h2>
                <label for="average-input" class="sr-only">Values</label>
                <input type="text" id="average-input" placeholder="Enter values separated by commas" aria-label="Comma separated values">
                <div class="button-group">
                    <button onclick="calculateAverage()">Calculate Average</button>
                    <button class="reset-btn" onclick="resetInputs('average-input', 'average-result')">⟲</button>
                </div>
                <p id="average-result">-</p>
            </div>

            <!-- Median Calculator -->
            <div id="median" class="calculator-box">
                <h2>Median Calculator</h2>
                <label for="median-input" class="sr-only">Values</label>
                <input type="text" id="median-input" placeholder="Enter values separated by commas" aria-label="Comma separated values">
                <div class="button-group">
                    <button onclick="calculateMedian()">Calculate Median</button>
                    <button class="reset-btn" onclick="resetInputs('median-input', 'median-result')">⟲</button>
                </div>
                <p id="median-result">-</p>
            </div>

            <!-- Time Converter -->
            <div id="time-converter" class="calculator-box">
                <h2>Time Converter</h2>
                <label for="time-conversion-type" class="sr-only">Conversion type</label>
                <select id="time-conversion-type" onchange="updateTimeInputs()" aria-label="Select time conversion type">
                    <option value="seconds-to-minutes">Seconds → Minutes</option>
                    <option value="minutes-to-hours">Minutes → Hours</option>
                    <option value="hours-to-days">Hours → Days</option>
                    <option value="days-to-years">Days → Years (365.25)</option>
                    <option value="date-difference">Difference between two dates</option>
                </select>
                <div id="time-input-fields">
                    <label for="time-value" class="sr-only">Time value</label>
                    <input type="number" id="time-value" placeholder="Enter time value" aria-label="Time value">
                    <div id="date-inputs" class="hidden">
                        <label for="date1" class="sr-only">Start date</label>
                        <input type="date" id="date1" aria-label="Start date">
                        <label for="date2" class="sr-only">End date</label>
                        <input type="date" id="date2" aria-label="End date">
                    </div>
                </div>
                <div class="button-group">
                    <button onclick="convertTime()">Convert</button>
                    <button class="reset-btn" onclick="resetTimeInputs()">⟲</button>
                </div>
                <p id="time-result">-</p>
            </div>

            <!-- BMI Calculator -->
            <div id="bmi" class="calculator-box">
                <h2>BMI Calculator</h2>
                <label for="height" class="sr-only">Height</label>
                <input type="number" id="height" placeholder="Height (cm)" aria-label="Height in centimeters">
                <label for="weight" class="sr-only">Weight</label>
                <input type="number" id="weight" placeholder="Weight (kg)" aria-label="Weight in kilograms">
                <div class="button-group">
                    <button onclick="calculateBMI()">Calculate BMI</button>
                    <button class="reset-btn" onclick="resetInputs('height', 'weight', 'bmi-result')">⟲</button>
                </div>
                <p id="bmi-result">-</p>
            </div>

            <!-- Percentage Change -->
            <div id="percentage-change" class="calculator-box">
                <h2>Percentage Change</h2>
                <label for="old-value" class="sr-only">Original value</label>
                <input type="number" id="old-value" placeholder="Original value" aria-label="Original value">
                <label for="new-value" class="sr-only">New value</label>
                <input type="number" id="new-value" placeholder="New value" aria-label="New value">
                <div class="button-group">
                    <button onclick="calculatePercentageChange()">Calculate Change</button>
                    <button class="reset-btn" onclick="resetInputs('old-value', 'new-value', 'change-result')">⟲</button>
                </div>
                <p id="change-result">-</p>
            </div>

            <!-- Random Color Generator -->
            <div id="random-color" class="calculator-box">
                <h2>Random Color Generator</h2>
                <div class="button-group">
                    <button onclick="generateRandomColor('hex')">HEX</button>
                    <button onclick="generateRandomColor('rgb')">RGB</button>
                </div>
                <p id="color-result">-</p>
                <div id="color-preview"></div>
            </div>

            <!-- Fibonacci Sequence -->
            <div id="fibonacci" class="calculator-box">
                <h2>Fibonacci Sequence</h2>
                <label for="fibonacci-count" class="sr-only">Sequence length</label>
                <input type="number" id="fibonacci-count" placeholder="Enter sequence length" aria-label="Fibonacci sequence length">
                <div class="button-group">
                    <button onclick="generateFibonacci()">Generate</button>
                    <button class="reset-btn" onclick="resetInputs('fibonacci-count', 'fibonacci-result')">⟲</button>
                </div>
                <p id="fibonacci-result">-</p>
            </div>

            <!-- Interest Calculator -->
            <div id="interest" class="calculator-box">
                <h2>Interest Calculator</h2>
                <label for="principal" class="sr-only">Principal amount</label>
                <input type="number" id="principal" placeholder="Principal amount" aria-label="Principal amount">
                <label for="interest-rate" class="sr-only">Interest rate</label>
                <input type="number" id="interest-rate" placeholder="Interest rate (%)" aria-label="Interest rate">
                <label for="time-period" class="sr-only">Time period</label>
                <input type="number" id="time-period" placeholder="Time (years)" aria-label="Time in years">
                <div class="button-group">
                    <button onclick="calculateInterest()">Calculate Interest</button>
                    <button class="reset-btn" onclick="resetInputs('principal', 'interest-rate', 'time-period', 'interest-result')">⟲</button>
                </div>
                <p id="interest-result">-</p>
            </div>
        </div>
    </main>
</div>

<!-- Cookie banner -->
<div id="cookie-banner">
    <div class="banner-content">
        <p>We use cookies to enhance your experience. Some cookies are essential for the website to function, while others help us analyze visitors and improve our services.</p>
        <div class="button-group">
            <button id="accept-cookies">Accept All Cookies</button>
            <button id="reject-cookies">Reject All Cookies</button>
        </div>
    </div>
</div>

<footer>
    <div>
        <p>© 2025 ultimate-calculator.com – Mathematical Tools</p>
        <p>Making everyday calculations easier!</p>
        <nav>
            <a href="privacy-policy.html">Privacy Policy</a>
            <a href="terms-of-service.html">Terms of Service</a>
        </nav>
    </div>
</footer>

<script>
    // ======================
    // COOKIE BANNER FUNCTIONALITY
    // ======================
    
    // Check if cookie decision has been made
    function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
    }
    
    // Show banner if no decision has been made
    if (getCookie('cookies_accepted') === undefined) {
        document.getElementById('cookie-banner').style.display = 'block';
    }
    
    // Handle cookie acceptance
    document.getElementById('accept-cookies').addEventListener('click', function() {
        // Set cookie for 1 year
        const expiryDate = new Date();
        expiryDate.setFullYear(expiryDate.getFullYear() + 1);
        document.cookie = `cookies_accepted=true; expires=${expiryDate.toUTCString()}; path=/; SameSite=Lax`;
        
        // Hide banner
        document.getElementById('cookie-banner').style.display = 'none';
        
        // Load Google Analytics
        loadGoogleAnalytics();
    });
    
    // Handle cookie rejection
    document.getElementById('reject-cookies').addEventListener('click', function() {
        // Set cookie for 1 year
        const expiryDate = new Date();
        expiryDate.setFullYear(expiryDate.getFullYear() + 1);
        document.cookie = `cookies_accepted=false; expires=${expiryDate.toUTCString()}; path=/; SameSite=Lax`;
        
        // Hide banner
        document.getElementById('cookie-banner').style.display = 'none';
    });
    
    // Load Google Analytics if cookies were accepted
    function loadGoogleAnalytics() {
        if (getCookie('cookies_accepted') === 'true') {
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-T09C7VFBV9');
            
            const gaScript = document.createElement('script');
            gaScript.async = true;
            gaScript.src = 'https://www.googletagmanager.com/gtag/js?id=G-T09C7VFBV9';
            document.head.appendChild(gaScript);
            
            console.log('Google Analytics loaded');
        }
    }
    
    // Initialize GA if cookies were previously accepted
    window.addEventListener('DOMContentLoaded', function() {
        loadGoogleAnalytics();
    });

    // ======================
    // CALCULATOR FUNCTIONS
    // ======================
    
    // Show selected calculator
    function showCalculator(calculatorId) {
        const calculators = document.querySelectorAll('.calculator-box');
        calculators.forEach(calculator => {
            calculator.classList.remove('active');
        });
        const selectedCalculator = document.getElementById(calculatorId);
        if (selectedCalculator) {
            selectedCalculator.classList.add('active');
        }
    }
    
    // Reset inputs
    function resetInputs(...ids) {
        ids.forEach(id => {
            const element = document.getElementById(id);
            if (element) {
                if (element.tagName === 'INPUT' || element.tagName === 'SELECT') {
                    element.value = '';
                } else if (element.tagName === 'DIV') {
                    element.innerHTML = '';
                } else {
                    element.textContent = '-';
                }
            }
        });
    }
    
    // Update shape inputs based on selected shape
    function updateShapeInputs() {
        const shapeType = document.getElementById('shape-type').value;
        const shapeInputs = document.getElementById('shape-inputs');
        shapeInputs.innerHTML = '';
    
        switch(shapeType) {
            case 'rectangle':
                shapeInputs.innerHTML = `
                    <label for="length" class="sr-only">Length</label>
                    <input type="number" id="length" placeholder="Length" aria-label="Length">
                    <label for="width" class="sr-only">Width</label>
                    <input type="number" id="width" placeholder="Width" aria-label="Width">
                `;
                break;
            case 'circle':
                shapeInputs.innerHTML = `
                    <label for="radius" class="sr-only">Radius</label>
                    <input type="number" id="radius" placeholder="Radius" aria-label="Radius">
                `;
                break;
            case 'cube':
                shapeInputs.innerHTML = `
                    <label for="side" class="sr-only">Side length</label>
                    <input type="number" id="side" placeholder="Side length" aria-label="Side length">
                `;
                break;
            case 'sphere':
                shapeInputs.innerHTML = `
                    <label for="sphere-radius" class="sr-only">Radius</label>
                    <input type="number" id="sphere-radius" placeholder="Radius" aria-label="Radius">
                `;
                break;
            case 'cylinder':
                shapeInputs.innerHTML = `
                    <label for="cylinder-radius" class="sr-only">Radius</label>
                    <input type="number" id="cylinder-radius" placeholder="Radius" aria-label="Radius">
                    <label for="cylinder-height" class="sr-only">Height</label>
                    <input type="number" id="cylinder-height" placeholder="Height" aria-label="Height">
                `;
                break;
        }
    }
    
    // Calculate area and volume
    function calculateAreaVolume() {
        const shapeType = document.getElementById('shape-type').value;
        let area = 0, volume = 0;
        const PI = Math.PI;
    
        try {
            switch(shapeType) {
                case 'rectangle':
                    const length = parseFloat(document.getElementById('length').value);
                    const width = parseFloat(document.getElementById('width').value);
                    area = length * width;
                    break;
                case 'circle':
                    const radius = parseFloat(document.getElementById('radius').value);
                    area = PI * radius * radius;
                    break;
                case 'cube':
                    const side = parseFloat(document.getElementById('side').value);
                    area = 6 * side * side;
                    volume = side * side * side;
                    break;
                case 'sphere':
                    const sphereRadius = parseFloat(document.getElementById('sphere-radius').value);
                    area = 4 * PI * sphereRadius * sphereRadius;
                    volume = (4/3) * PI * Math.pow(sphereRadius, 3);
                    break;
                case 'cylinder':
                    const cylinderRadius = parseFloat(document.getElementById('cylinder-radius').value);
                    const height = parseFloat(document.getElementById('cylinder-height').value);
                    area = 2 * PI * cylinderRadius * (cylinderRadius + height);
                    volume = PI * cylinderRadius * cylinderRadius * height;
                    break;
            }
    
            let resultText = `Area: ${area.toFixed(2)}`;
            if (volume > 0) {
                resultText += ` | Volume: ${volume.toFixed(2)}`;
            }
            document.getElementById('area-volume-result').textContent = resultText;
        } catch (e) {
            document.getElementById('area-volume-result').textContent = "Calculation error";
        }
    }
    
    // Reset shape calculator
    function resetShapeCalculator() {
        document.getElementById('shape-type').value = 'rectangle';
        updateShapeInputs();
        document.getElementById('area-volume-result').textContent = '-';
    }
    
    // Calculate sum
    function calculateSum() {
        const num1 = parseFloat(document.getElementById("num1").value);
        const num2 = parseFloat(document.getElementById("num2").value);
        const resultElement = document.getElementById("sum-result");
    
        if (isNaN(num1)) {
            resultElement.textContent = "Enter first number";
            document.getElementById("num1").focus();
            return;
        }
    
        if (isNaN(num2)) {
            resultElement.textContent = "Enter second number";
            document.getElementById("num2").focus();
            return;
        }
    
        resultElement.textContent = (num1 + num2).toFixed(2);
    }
    
    // Generate multiplication table
    function generateMultiplicationTable() {
        const number = parseInt(document.getElementById("multiplicand").value);
        const tableDiv = document.getElementById("multiplication-table-results");
        
        if (isNaN(number)) {
            tableDiv.innerHTML = "<p>Enter a number</p>";
            return;
        }
    
        let html = "";
        for (let i = 1; i <= 10; i++) {
            html += `<p>${number} × ${i} = ${number * i}</p>`;
        }
        tableDiv.innerHTML = html;
    }
    
    // Calculate power
    function calculatePower() {
        const base = parseFloat(document.getElementById("base").value);
        const exponent = parseFloat(document.getElementById("exponent").value);
        const resultElement = document.getElementById("power-result");
    
        if (isNaN(base) || isNaN(exponent)) {
            resultElement.textContent = "Enter both values";
            return;
        }
    
        resultElement.textContent = Math.pow(base, exponent).toFixed(2);
    }
    
    // Calculate roots
    function calculateRoots() {
        const number = parseFloat(document.getElementById("root-number").value);
        const resultElement = document.getElementById("root-result");
    
        if (isNaN(number)) {
            resultElement.textContent = "Enter a number";
            return;
        }
    
        if (number < 0) {
            resultElement.textContent = "Negative numbers don't have real square roots";
            return;
        }
    
        const squareRoot = Math.sqrt(number);
        const cubeRoot = Math.cbrt(number);
        resultElement.textContent = `Square root: ${squareRoot.toFixed(2)} | Cube root: ${cubeRoot.toFixed(2)}`;
    }
    
    // Convert temperature
    function convertTemperature() {
        const conversionType = document.getElementById("temp-conversion-type").value;
        const inputTemp = parseFloat(document.getElementById("temp-input").value);
        const resultElement = document.getElementById("temp-result");
    
        if (isNaN(inputTemp)) {
            resultElement.textContent = "Enter temperature";
            return;
        }
    
        let result;
        switch(conversionType) {
            case "c-to-f":
                result = (inputTemp * 9/5) + 32;
                resultElement.textContent = `${result.toFixed(1)} °F`;
                break;
            case "f-to-c":
                result = (inputTemp - 32) * 5/9;
                resultElement.textContent = `${result.toFixed(1)} °C`;
                break;
            case "c-to-k":
                result = inputTemp + 273.15;
                resultElement.textContent = `${result.toFixed(2)} K`;
                break;
            case "k-to-c":
                result = inputTemp - 273.15;
                resultElement.textContent = `${result.toFixed(2)} °C`;
                break;
        }
    }
    
    // Basic calculator
    function basicCalculator(operator) {
        const num1 = parseFloat(document.getElementById("basic-num1").value);
        const num2 = parseFloat(document.getElementById("basic-num2").value);
        const resultElement = document.getElementById("basic-result");
    
        if (isNaN(num1) || isNaN(num2)) {
            resultElement.textContent = "Enter both numbers";
            return;
        }
    
        let result;
        switch(operator) {
            case '+':
                result = num1 + num2;
                break;
            case '-':
                result = num1 - num2;
                break;
            case '*':
                result = num1 * num2;
                break;
            case '/':
                if (num2 === 0) {
                    resultElement.textContent = "Cannot divide by zero";
                    return;
                }
                result = num1 / num2;
                break;
        }
    
        resultElement.textContent = result.toFixed(2);
    }
    
    // Calculate hypotenuse
    function calculateHypotenuse() {
        const sideA = parseFloat(document.getElementById("side-a").value);
        const sideB = parseFloat(document.getElementById("side-b").value);
        const resultElement = document.getElementById("hypotenuse-result");
    
        if (isNaN(sideA) || isNaN(sideB)) {
            resultElement.textContent = "Enter both sides";
            return;
        }
    
        const hypotenuse = Math.sqrt(Math.pow(sideA, 2) + Math.pow(sideB, 2));
        resultElement.textContent = hypotenuse.toFixed(2);
    }
    
    // Calculate percentage
    function calculatePercentage() {
        const percent = parseFloat(document.getElementById("percent-value").value);
        const base = parseFloat(document.getElementById("percent-base").value);
        const resultElement = document.getElementById("percent-result");
    
        if (isNaN(percent) || isNaN(base)) {
            resultElement.textContent = "Enter both values";
            return;
        }
    
        const result = (percent / 100) * base;
        resultElement.textContent = `${percent}% of ${base} is ${result.toFixed(2)}`;
    }
    
    // Calculate average
    function calculateAverage() {
        const input = document.getElementById("average-input").value;
        const resultElement = document.getElementById("average-result");
    
        if (!input.trim()) {
            resultElement.textContent = "Enter values";
            return;
        }
    
        const numbers = input.split(',').map(num => parseFloat(num.trim())).filter(num => !isNaN(num));
        
        if (numbers.length === 0) {
            resultElement.textContent = "Invalid input";
            return;
        }
    
        const sum = numbers.reduce((a, b) => a + b, 0);
        const average = sum / numbers.length;
        resultElement.textContent = `Average: ${average.toFixed(2)} (${numbers.length} values)`;
    }
    
    // Calculate median
    function calculateMedian() {
        const input = document.getElementById("median-input").value;
        const resultElement = document.getElementById("median-result");
    
        if (!input.trim()) {
            resultElement.textContent = "Enter values";
            return;
        }
    
        let numbers = input.split(',').map(num => parseFloat(num.trim())).filter(num => !isNaN(num));
        
        if (numbers.length === 0) {
            resultElement.textContent = "Invalid input";
            return;
        }
    
        numbers.sort((a, b) => a - b);
        let median;
        const middle = Math.floor(numbers.length / 2);
    
        if (numbers.length % 2 === 0) {
            median = (numbers[middle - 1] + numbers[middle]) / 2;
        } else {
            median = numbers[middle];
        }
    
        resultElement.textContent = `Median: ${median.toFixed(2)} (${numbers.length} values)`;
    }
    
    // Update time inputs
    function updateTimeInputs() {
        const conversionType = document.getElementById("time-conversion-type").value;
        const timeValue = document.getElementById("time-value");
        const dateInputs = document.getElementById("date-inputs");
    
        if (conversionType === "date-difference") {
            timeValue.classList.add("hidden");
            dateInputs.classList.remove("hidden");
        } else {
            timeValue.classList.remove("hidden");
            dateInputs.classList.add("hidden");
        }
    }
    
    // Convert time
    function convertTime() {
        const conversionType = document.getElementById("time-conversion-type").value;
        const resultElement = document.getElementById("time-result");
    
        try {
            let result;
            switch(conversionType) {
                case "seconds-to-minutes":
                    const seconds = parseFloat(document.getElementById("time-value").value);
                    result = seconds / 60;
                    resultElement.textContent = `${seconds} seconds = ${result.toFixed(2)} minutes`;
                    break;
                case "minutes-to-hours":
                    const minutes = parseFloat(document.getElementById("time-value").value);
                    result = minutes / 60;
                    resultElement.textContent = `${minutes} minutes = ${result.toFixed(2)} hours`;
                    break;
                case "hours-to-days":
                    const hours = parseFloat(document.getElementById("time-value").value);
                    result = hours / 24;
                    resultElement.textContent = `${hours} hours = ${result.toFixed(2)} days`;
                    break;
                case "days-to-years":
                    const days = parseFloat(document.getElementById("time-value").value);
                    result = days / 365.25;
                    resultElement.textContent = `${days} days = ${result.toFixed(2)} years`;
                    break;
                case "date-difference":
                    const date1 = new Date(document.getElementById("date1").value);
                    const date2 = new Date(document.getElementById("date2").value);
                    
                    if (isNaN(date1.getTime()) || isNaN(date2.getTime())) {
                        resultElement.textContent = "Select both dates";
                        return;
                    }
                    
                    const diffTime = Math.abs(date2 - date1);
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
                    resultElement.textContent = `Difference: ${diffDays} days`;
                    break;
            }
        } catch (e) {
            resultElement.textContent = "Calculation error";
        }
    }
    
    // Reset time inputs
    function resetTimeInputs() {
        document.getElementById("time-value").value = "";
        document.getElementById("date1").value = "";
        document.getElementById("date2").value = "";
        document.getElementById("time-result").textContent = "-";
        updateTimeInputs();
    }
    
    // Calculate BMI
    function calculateBMI() {
        const height = parseFloat(document.getElementById("height").value);
        const weight = parseFloat(document.getElementById("weight").value);
        const resultElement = document.getElementById("bmi-result");
    
        if (isNaN(height) || isNaN(weight)) {
            resultElement.textContent = "Enter both values";
            return;
        }
    
        if (height <= 0 || weight <= 0) {
            resultElement.textContent = "Values must be positive";
            return;
        }
    
        const heightInMeters = height / 100;
        const bmi = weight / (heightInMeters * heightInMeters);
        
        let interpretation;
        if (bmi < 18.5) {
            interpretation = "Underweight";
        } else if (bmi < 25) {
            interpretation = "Normal weight";
        } else if (bmi < 30) {
            interpretation = "Overweight";
        } else {
            interpretation = "Obese";
        }
    
        resultElement.textContent = `BMI: ${bmi.toFixed(1)} (${interpretation})`;
    }
    
    // Calculate percentage change
    function calculatePercentageChange() {
        const oldValue = parseFloat(document.getElementById("old-value").value);
        const newValue = parseFloat(document.getElementById("new-value").value);
        const resultElement = document.getElementById("change-result");
    
        if (isNaN(oldValue) || isNaN(newValue)) {
            resultElement.textContent = "Enter both values";
            return;
        }
    
        if (oldValue === 0) {
            resultElement.textContent = "Original value cannot be zero";
            return;
        }
    
        const change = ((newValue - oldValue) / oldValue) * 100;
        resultElement.textContent = `Change: ${change.toFixed(2)}%`;
    }
    
    // Generate random color
    function generateRandomColor(type) {
        const letters = '0123456789ABCDEF';
        let color;
        
        if (type === 'hex') {
            color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            document.getElementById("color-result").textContent = color;
        } else {
            const r = Math.floor(Math.random() * 256);
            const g = Math.floor(Math.random() * 256);
            const b = Math.floor(Math.random() * 256);
            color = `rgb(${r}, ${g}, ${b})`;
            document.getElementById("color-result").textContent = color;
        }
        
        document.getElementById("color-preview").style.backgroundColor = color;
    }
    
    // Generate Fibonacci sequence
    function generateFibonacci() {
        const count = parseInt(document.getElementById("fibonacci-count").value);
        const resultElement = document.getElementById("fibonacci-result");
    
        if (isNaN(count) || count < 1 || count > 50) {
            resultElement.textContent = "Enter number between 1-50";
            return;
        }
    
        let sequence = [0, 1];
        for (let i = 2; i < count; i++) {
            sequence[i] = sequence[i-1] + sequence[i-2];
        }
    
        resultElement.textContent = sequence.slice(0, count).join(", ");
    }
    
    // Calculate interest
    function calculateInterest() {
        const principal = parseFloat(document.getElementById("principal").value);
        const rate = parseFloat(document.getElementById("interest-rate").value);
        const time = parseFloat(document.getElementById("time-period").value);
        const resultElement = document.getElementById("interest-result");
    
        if (isNaN(principal) || isNaN(rate) || isNaN(time)) {
            resultElement.textContent = "Enter all values";
            return;
        }
    
        if (principal <= 0 || rate <= 0 || time <= 0) {
            resultElement.textContent = "Values must be positive";
            return;
        }
    
        const interest = (principal * rate * time) / 100;
        const total = principal + interest;
        
        resultElement.textContent = `Interest: ${interest.toFixed(2)} | Total: ${total.toFixed(2)}`;
    }
    
    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
        updateShapeInputs();
        updateTimeInputs();
        showCalculator('addition');
    });
</script>
</body>
</html>
